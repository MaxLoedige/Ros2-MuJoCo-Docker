<mujoco model="robot scene">

    <!-- integrator="implicitfast" -->
  <option
    timestep="0.001"
    integrator="RK4"
  >
    <!-- <flag    
      multiccd="enable"
    nativeccd="enable"
    /> -->
  </option>


  <statistic center="0 0 0.8" extent="2"/>

  <visual>
    <headlight diffuse="0.6 0.6 0.6" ambient="0.3 0.3 0.3" specular="0 0 0"/>
    <rgba haze="0.15 0.25 0.35 1"/>
    <global azimuth="120" elevation="-20"/>
  </visual>

  <asset>
    <model name="LeftHand" file="vrsimmodels/LeftHand/interaction.xml"/>
    <model name="RightHand" file="vrsimmodels/RightHand/interaction.xml"/>
  </asset>

  <extension>
    <plugin plugin="mujoco.vrsim.websocket">
      <instance name="websocket">
        <config key="url" value="crisp"/>
        <config key="port" value="11532"/>
      </instance>
    </plugin>
  </extension>

  <include file="vrsimmodels/humanoid/assets.xml"/>
  <include file="vrsimmodels/humanoid/humanoid_0.xml"/>
  <include file="vrsimmodels/RightHand/model_0.xml"/>
  <include file="vrsimmodels/LeftHand/model_0.xml"/>

  <include file="franka_emika_panda/franka_panda.xml"/>

  <include file="scenario/world.xml"/>

  <worldbody>


    <body name="franka_emika_panda" pos="0.55 1.1 1.02">
      <include file="franka_emika_panda/panda/arm_with_gripper.xml"/>
    </body>

    <attach model="LeftHand" body="controller_left_mocap" prefix="vrsim_0_"/>
    <attach model="LeftHand" body="controller_left_collision" prefix="vrsim_0_"/>

    <attach model="RightHand" body="controller_right_mocap" prefix="vrsim_0_"/>
    <attach model="RightHand" body="controller_right_collision" prefix="vrsim_0_"/>

  </worldbody>

  <equality>
    <weld name="vrsim_0_hand_left"  body1="vrsim_0_controller_left_mocap" body2= "vrsim_0_controller_left_collision" torquescale="500"/>
    <weld name="vrsim_0_hand_right" body1="vrsim_0_controller_right_mocap" body2= "vrsim_0_controller_right_collision" torquescale="500"/>

  </equality>
</mujoco>
